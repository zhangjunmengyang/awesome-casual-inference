"""
Interview-oriented content to add to part6_1_marketing_attribution.ipynb

This file contains new cells to add comprehensive interview Q&A
"""

INTERVIEW_CELLS = [
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "---\n",
            "\n",
            "# ğŸ¯ é¢è¯•é‡ç‚¹: Marketing Attribution\n",
            "\n",
            "## é¢è¯•å¸¸è§é—®é¢˜æ±‡æ€»\n",
            "\n",
            "æœ¬èŠ‚æ•´ç†äº†è¥é”€å½’å› ç›¸å…³çš„é«˜é¢‘é¢è¯•é¢˜ï¼ŒåŒ…æ‹¬ç†è®ºã€å®ç°å’Œä¸šåŠ¡åº”ç”¨ä¸‰ä¸ªç»´åº¦ã€‚"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "## é¢è¯•é¢˜ 1: ä»é›¶å®ç° Shapley Value\n",
            "\n",
            "**é—®é¢˜**: ä¸ä½¿ç”¨ä»»ä½•åº“ï¼Œä»å¤´å®ç° Shapley Value å½’å› ç®—æ³•ã€‚\n",
            "\n",
            "**è€ƒå¯Ÿç‚¹**:\n",
            "- å¯¹ Shapley Value å…¬å¼çš„ç†è§£\n",
            "- ç®—æ³•å®ç°èƒ½åŠ›\n",
            "- æ—¶é—´å¤æ‚åº¦åˆ†æ"
        ]
    },
    {
        "cell_type": "code",
        "execution_count": None,
        "metadata": {},
        "outputs": [],
        "source": [
            "from itertools import combinations, permutations\n",
            "\n",
            "def shapley_value_from_scratch(channels, conversion_func):\n",
            "    \"\"\"\n",
            "    ä»é›¶å®ç° Shapley Value\n",
            "    \n",
            "    Args:\n",
            "        channels: list of str, æ¸ é“åˆ—è¡¨ ['æœç´¢', 'ç¤¾äº¤', 'é‚®ä»¶']\n",
            "        conversion_func: callable, ç»™å®šæ¸ é“å­é›†è¿”å›è½¬åŒ–ä»·å€¼\n",
            "                        ä¾‹å¦‚: conversion_func(['æœç´¢', 'ç¤¾äº¤']) -> 1000\n",
            "    \n",
            "    Returns:\n",
            "        dict: {channel: shapley_value}\n",
            "    \n",
            "    åŸç†:\n",
            "        Shapley Value å…¬å¼:\n",
            "        Ï†_i = Î£_{SâŠ†N\\{i}} [|S|!(n-|S|-1)!/n!] Ã— [v(Sâˆª{i}) - v(S)]\n",
            "        \n",
            "        å…¶ä¸­:\n",
            "        - N: æ‰€æœ‰æ¸ é“é›†åˆ\n",
            "        - S: ä¸åŒ…å«æ¸ é“içš„å­é›†\n",
            "        - v(S): å­é›†Sçš„è½¬åŒ–ä»·å€¼\n",
            "        - Ï†_i: æ¸ é“içš„Shapleyå€¼\n",
            "    \n",
            "    æ—¶é—´å¤æ‚åº¦: O(2^n Ã— n)\n",
            "    \"\"\"\n",
            "    n = len(channels)\n",
            "    shapley_values = {ch: 0.0 for ch in channels}\n",
            "    \n",
            "    # å¯¹æ¯ä¸ªæ¸ é“è®¡ç®— Shapley Value\n",
            "    for i, channel in enumerate(channels):\n",
            "        # è·å–é™¤å½“å‰æ¸ é“å¤–çš„æ‰€æœ‰æ¸ é“\n",
            "        other_channels = [ch for j, ch in enumerate(channels) if j != i]\n",
            "        \n",
            "        # éå†æ‰€æœ‰å¯èƒ½çš„å­é›† S âŠ† N\\{i}\n",
            "        for subset_size in range(n):  # å­é›†å¤§å°ä» 0 åˆ° n-1\n",
            "            # ç”Ÿæˆæ‰€æœ‰å¤§å°ä¸º subset_size çš„å­é›†\n",
            "            for subset in combinations(other_channels, subset_size):\n",
            "                subset_list = list(subset)\n",
            "                \n",
            "                # è®¡ç®— v(S âˆª {i}) - v(S)\n",
            "                value_with_i = conversion_func(subset_list + [channel])\n",
            "                value_without_i = conversion_func(subset_list) if subset_list else 0\n",
            "                marginal_contribution = value_with_i - value_without_i\n",
            "                \n",
            "                # è®¡ç®—æƒé‡: |S|!(n-|S|-1)!/n!\n",
            "                s_size = len(subset_list)\n",
            "                weight = (factorial(s_size) * factorial(n - s_size - 1)) / factorial(n)\n",
            "                \n",
            "                # ç´¯åŠ  Shapley Value\n",
            "                shapley_values[channel] += weight * marginal_contribution\n",
            "    \n",
            "    return shapley_values\n",
            "\n",
            "def factorial(n):\n",
            "    \"\"\"è®¡ç®—é˜¶ä¹˜\"\"\"\n",
            "    if n <= 1:\n",
            "        return 1\n",
            "    result = 1\n",
            "    for i in range(2, n + 1):\n",
            "        result *= i\n",
            "    return result\n",
            "\n",
            "# æµ‹è¯•ç¤ºä¾‹\n",
            "def example_conversion_func(channels):\n",
            "    \"\"\"\n",
            "    ç¤ºä¾‹è½¬åŒ–å‡½æ•°\n",
            "    æ¨¡æ‹Ÿä¸åŒæ¸ é“ç»„åˆçš„è½¬åŒ–ä»·å€¼\n",
            "    \"\"\"\n",
            "    if not channels:\n",
            "        return 0\n",
            "    \n",
            "    # ç®€å•è§„åˆ™ï¼šåŸºç¡€ä»·å€¼ + ååŒæ•ˆåº”\n",
            "    base_values = {'æœç´¢': 500, 'ç¤¾äº¤': 300, 'é‚®ä»¶': 200}\n",
            "    \n",
            "    total = sum(base_values.get(ch, 0) for ch in channels)\n",
            "    \n",
            "    # ååŒæ•ˆåº”ï¼šæŸäº›ç»„åˆæœ‰é¢å¤–ä»·å€¼\n",
            "    if 'æœç´¢' in channels and 'ç¤¾äº¤' in channels:\n",
            "        total += 100  # æœç´¢+ç¤¾äº¤ååŒ\n",
            "    \n",
            "    return total\n",
            "\n",
            "# æ‰§è¡Œæµ‹è¯•\n",
            "print(\"=== ä»é›¶å®ç° Shapley Value æµ‹è¯• ===\")\n",
            "channels = ['æœç´¢', 'ç¤¾äº¤', 'é‚®ä»¶']\n",
            "shapley = shapley_value_from_scratch(channels, example_conversion_func)\n",
            "\n",
            "print(\"\\nShapley Value å½’å› ç»“æœ:\")\n",
            "for ch, value in shapley.items():\n",
            "    print(f\"  {ch}: {value:.2f}\")\n",
            "\n",
            "print(f\"\\næ€»è®¡: {sum(shapley.values()):.2f}\")\n",
            "print(f\"å…¨æ¸ é“è½¬åŒ–å€¼: {example_conversion_func(channels):.2f}\")\n",
            "print(\"\\nâœ“ éªŒè¯: æ€» Shapley å€¼åº”ç­‰äºå…¨æ¸ é“è½¬åŒ–å€¼\")"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "### é¢è¯•è¦ç‚¹åˆ†æ\n",
            "\n",
            "**ç®—æ³•å¤æ‚åº¦**:\n",
            "- æ—¶é—´å¤æ‚åº¦: O(2^n Ã— n)\n",
            "  - å¯¹äºæ¯ä¸ªæ¸ é“ (nä¸ª)\n",
            "  - éå†æ‰€æœ‰å­é›† (2^(n-1)ä¸ª)\n",
            "  - æ¯ä¸ªå­é›†è®¡ç®—è¾¹é™…è´¡çŒ® (O(1))\n",
            "\n",
            "- ç©ºé—´å¤æ‚åº¦: O(2^n)\n",
            "  - éœ€è¦å­˜å‚¨æ‰€æœ‰å­é›†çš„è½¬åŒ–å€¼\n",
            "\n",
            "**å®é™…åº”ç”¨ä¸­çš„ä¼˜åŒ–**:\n",
            "1. **è’™ç‰¹å¡æ´›è¿‘ä¼¼** (n > 10 æ—¶å¿…é¡»)\n",
            "   - éšæœºé‡‡æ ·è”ç›Ÿ\n",
            "   - å¤æ‚åº¦é™è‡³ O(m Ã— n)ï¼Œm ä¸ºé‡‡æ ·æ•°\n",
            "\n",
            "2. **ç¼“å­˜ç­–ç•¥**\n",
            "   - è®°å¿†åŒ–è½¬åŒ–å‡½æ•°è°ƒç”¨\n",
            "   - é¿å…é‡å¤è®¡ç®—\n",
            "\n",
            "3. **å‰ªæ**\n",
            "   - è·³è¿‡è¾¹é™…è´¡çŒ®ä¸º0çš„å­é›†\n",
            "   - æå‰ç»ˆæ­¢æ˜æ˜¾æ— æ•ˆçš„è”ç›Ÿ\n",
            "\n",
            "**å¸¸è§é¢è¯•è¿½é—®**:\n",
            "- Q: ä¸ºä»€ä¹ˆ Shapley Value æ»¡è¶³å…¬å¹³æ€§ï¼Ÿ\n",
            "- A: æ»¡è¶³ 4 ä¸ªå…¬ç†ï¼šæ•ˆç‡æ€§ã€å¯¹ç§°æ€§ã€è™šæ‹Ÿæ€§ã€å¯åŠ æ€§\n",
            "\n",
            "- Q: å¦‚ä½•å¤„ç† 10+ ä¸ªæ¸ é“ï¼Ÿ\n",
            "- A: è’™ç‰¹å¡æ´›é‡‡æ · + åˆ†å±‚æŠ½æ ·\n",
            "\n",
            "- Q: Shapley Value çš„å±€é™æ€§ï¼Ÿ\n",
            "- A: å‡è®¾æ¸ é“é¡ºåºéšæœºï¼ˆå®é™…æœ‰æ—¶åºï¼‰ã€è®¡ç®—å¤æ‚åº¦é«˜ã€éœ€è¦å¤§é‡å†å²æ•°æ®"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "---\n",
            "\n",
            "## é¢è¯•é¢˜ 2: Last-Click Attribution çš„é—®é¢˜\n",
            "\n",
            "**é—®é¢˜**: Last-click å½’å› æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿç”¨ Simpson's Paradox è§£é‡Šã€‚\n",
            "\n",
            "**è€ƒå¯Ÿç‚¹**:\n",
            "- å¯¹å½’å› é—®é¢˜çš„ç†è§£\n",
            "- Simpson's Paradox çš„åº”ç”¨\n",
            "- æ‰¹åˆ¤æ€§æ€ç»´"
        ]
    },
    {
        "cell_type": "code",
        "execution_count": None,
        "metadata": {},
        "outputs": [],
        "source": [
            "import pandas as pd\n",
            "import numpy as np\n",
            "\n",
            "# æ„é€ ä¸€ä¸ª Simpson's Paradox ç¤ºä¾‹\n",
            "print(\"=== Last-Click å½’å› çš„ Simpson's Paradox ===\")\n",
            "\n",
            "# åœºæ™¯ï¼šä¸¤ä¸ªæ¸ é“ A å’Œ B\n",
            "data = {\n",
            "    'åœºæ™¯': ['é«˜ä»·å€¼ç”¨æˆ·', 'é«˜ä»·å€¼ç”¨æˆ·', 'ä½ä»·å€¼ç”¨æˆ·', 'ä½ä»·å€¼ç”¨æˆ·'],\n",
            "    'æ¸ é“': ['A (é¦–æ¬¡æ¥è§¦)', 'B (Last-click)', 'A (é¦–æ¬¡æ¥è§¦)', 'B (Last-click)'],\n",
            "    'ç”¨æˆ·æ•°': [1000, 1000, 5000, 5000],\n",
            "    'è½¬åŒ–æ•°': [300, 300, 500, 500],\n",
            "    'å®¢å•ä»·': [1000, 1000, 200, 200]\n",
            "}\n",
            "\n",
            "df = pd.DataFrame(data)\n",
            "df['æ€»ä»·å€¼'] = df['è½¬åŒ–æ•°'] * df['å®¢å•ä»·']\n",
            "\n",
            "print(\"\\nåŸå§‹æ•°æ®:\")\n",
            "print(df.to_string(index=False))\n",
            "\n",
            "# Last-click å½’å› \n",
            "print(\"\\n=== Last-Click å½’å› ç»“æœ ===\")\n",
            "last_click_b = df[df['æ¸ é“'].str.contains('B')]['æ€»ä»·å€¼'].sum()\n",
            "last_click_a = 0  # A ä»ä¸æ˜¯ last-click\n",
            "print(f\"æ¸ é“ B (Last-click): {last_click_b:,} å…ƒ\")\n",
            "print(f\"æ¸ é“ A (é¦–æ¬¡æ¥è§¦): {last_click_a:,} å…ƒ\")\n",
            "print(f\"\\nç»“è®º: B æ¸ é“è´¡çŒ® 100%ï¼Œåº”è¯¥å…¨éƒ¨é¢„ç®—æŠ• B\")\n",
            "\n",
            "# çœŸå®æƒ…å†µåˆ†æ\n",
            "print(\"\\n=== çœŸå®æƒ…å†µåˆ†æ ===\")\n",
            "print(\"\\nè§‚å¯Ÿ:\")\n",
            "print(\"1. é«˜ä»·å€¼ç”¨æˆ·ï¼šéƒ½æ˜¯å…ˆé€šè¿‡ Aï¼Œå†é€šè¿‡ B è½¬åŒ–\")\n",
            "print(\"2. ä½ä»·å€¼ç”¨æˆ·ï¼šä¹Ÿæ˜¯å…ˆ A å B\")\n",
            "print(\"3. å¦‚æœæ²¡æœ‰ A çš„é¦–æ¬¡æ¥è§¦ï¼ŒB èƒ½è§¦è¾¾è¿™äº›ç”¨æˆ·å—ï¼Ÿ\")\n",
            "\n",
            "print(\"\\nå®éªŒ: åœæ‰æ¸ é“ A ä¼šæ€æ ·ï¼Ÿ\")\n",
            "print(\"\\nå‡è®¾åœæ‰ A åï¼š\")\n",
            "print(\"- B å¤±å»äº† A å¸¦æ¥çš„ç”¨æˆ·æµé‡\")\n",
            "print(\"- B çš„è½¬åŒ–æ•°ä¸‹é™ 80%\")\n",
            "\n",
            "# æ¨¡æ‹Ÿåœæ‰ A çš„ç»“æœ\n",
            "print(\"\\nåœæ‰ A åçš„æ”¶å…¥:\")\n",
            "remaining_conversions_high = 300 * 0.2  # é«˜ä»·å€¼ç”¨æˆ·åªå‰© 20%\n",
            "remaining_conversions_low = 500 * 0.2   # ä½ä»·å€¼ç”¨æˆ·åªå‰© 20%\n",
            "remaining_revenue = remaining_conversions_high * 1000 + remaining_conversions_low * 200\n",
            "print(f\"  {remaining_revenue:,.0f} å…ƒ (ä¸‹é™ {(1 - remaining_revenue/last_click_b)*100:.0f}%)\")\n",
            "\n",
            "print(\"\\n=== Simpson's Paradox è§£é‡Š ===\")\n",
            "print(\"\\nLast-click å½’å› çš„é—®é¢˜ï¼š\")\n",
            "print(\"1. æ··æ·†äº†ç›¸å…³æ€§å’Œå› æœæ€§\")\n",
            "print(\"   - B æ˜¯æœ€åä¸€æ¬¡æ¥è§¦ (ç›¸å…³)\")\n",
            "print(\"   - ä½†ä¸æ„å‘³ç€ B æ˜¯å”¯ä¸€åŸå›  (å› æœ)\")\n",
            "\n",
            "print(\"\\n2. å¿½ç•¥äº†æ¸ é“é—´çš„ä¾èµ–\")\n",
            "print(\"   - A è´Ÿè´£è·å®¢\")\n",
            "print(\"   - B è´Ÿè´£è½¬åŒ–\")\n",
            "print(\"   - ä¸¤è€…ç¼ºä¸€ä¸å¯\")\n",
            "\n",
            "print(\"\\n3. è¾›æ™®æ£®æ‚–è®ºçš„ä½“ç°\")\n",
            "print(\"   - åˆ†å±‚çœ‹ï¼šA å’Œ B éƒ½é‡è¦\")\n",
            "print(\"   - åˆå¹¶çœ‹ï¼šB è·å¾— 100% å½’å› \")\n",
            "print(\"   - æ‚–è®ºï¼šåˆå¹¶åçš„ç»“è®ºä¸åˆ†å±‚ç»“è®ºç›¸å\")"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "### Last-Click å½’å› çš„å…¸å‹é—®é¢˜\n",
            "\n",
            "**1. è¿‡åº¦å¥–åŠ±ä¸‹æ¸¸æ¸ é“**\n",
            "```python\n",
            "ç”¨æˆ·æ—…ç¨‹: å±•ç¤ºå¹¿å‘Š â†’ æœç´¢ â†’ ç¤¾äº¤ â†’ é‚®ä»¶ â†’ è´­ä¹°\n",
            "\n",
            "Last-click: é‚®ä»¶è·å¾— 100% å½’å› \n",
            "é—®é¢˜: å‰é¢ 4 ä¸ªæ¸ é“çš„å·¥ä½œè¢«å¿½ç•¥\n",
            "```\n",
            "\n",
            "**2. æƒ©ç½šå“ç‰Œå»ºè®¾æ¸ é“**\n",
            "```python\n",
            "å“ç‰Œå¹¿å‘Š: å»ºç«‹è®¤çŸ¥ (ä¸Šæ¸¸)\n",
            "æ•ˆæœå¹¿å‘Š: æ”¶å‰²è½¬åŒ– (ä¸‹æ¸¸)\n",
            "\n",
            "Last-click: æ•ˆæœå¹¿å‘Šè·å¾—æ‰€æœ‰åŠŸåŠ³\n",
            "ç»“æœ: å“ç‰Œé¢„ç®—è¢«å‰Šå‡ â†’ é•¿æœŸç”¨æˆ·è´¨é‡ä¸‹é™\n",
            "```\n",
            "\n",
            "**3. å¿½ç•¥ååŒæ•ˆåº”**\n",
            "```python\n",
            "ç”µè§†å¹¿å‘Š + æœç´¢å¹¿å‘Š = ååŒæ•ˆåº”\n",
            "\n",
            "Last-click: åªçœ‹åˆ°æœç´¢\n",
            "çœŸç›¸: ç”µè§†å¹¿å‘Šæå‡äº†æœç´¢çš„è½¬åŒ–ç‡\n",
            "```\n",
            "\n",
            "**ä½•æ—¶ Last-Click ä»ç„¶æœ‰ç”¨ï¼Ÿ**\n",
            "- å¿«é€Ÿå†³ç­–åœºæ™¯ï¼ˆå†²åŠ¨è´­ä¹°ï¼‰\n",
            "- å•æ¸ é“è¥é”€\n",
            "- ä½œä¸ºåŸºå‡†å¯¹æ¯”\n",
            "\n",
            "**æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆ**:\n",
            "1. **Shapley Value** - å…¬å¹³å½’å› \n",
            "2. **Data-Driven Attribution** - åŸºäºå®é™…æ•°æ®\n",
            "3. **Multi-Touch Attribution** - è€ƒè™‘å¤šä¸ªè§¦ç‚¹\n",
            "4. **Marketing Mix Modeling (MMM)** - æ•´ä½“ä¼˜åŒ–"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "---\n",
            "\n",
            "## é¢è¯•é¢˜ 3: å¦‚ä½•å‘éæŠ€æœ¯è€æ¿è§£é‡Š Shapley Value\n",
            "\n",
            "**é—®é¢˜**: ä½ éœ€è¦å‘ CMOï¼ˆéæŠ€æœ¯èƒŒæ™¯ï¼‰è§£é‡Šä¸ºä»€ä¹ˆåº”è¯¥ä½¿ç”¨ Shapley Value è€Œä¸æ˜¯ Last-Clickã€‚\n",
            "\n",
            "**è€ƒå¯Ÿç‚¹**:\n",
            "- æŠ€æœ¯æ²Ÿé€šèƒ½åŠ›\n",
            "- ä¸šåŠ¡ç†è§£\n",
            "- ç±»æ¯”èƒ½åŠ›"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "### è§£ç­”æ¡†æ¶\n",
            "\n",
            "#### 1. ç”¨ç¯®çƒæ¯”èµ›ç±»æ¯”\n",
            "\n",
            "**åœºæ™¯**: ä¸€åœºç¯®çƒæ¯”èµ›ï¼Œæœ€åä¸€çƒç”±çƒå‘˜ C æŠ•è¿›\n",
            "\n",
            "```\n",
            "çƒå‘˜ A: é˜²å®ˆæŠ¢æ–­ï¼Œä¼ çƒç»™ B\n",
            "çƒå‘˜ B: è¿çƒè¿‡åŠåœºï¼Œçªç ´åˆ†çƒç»™ C\n",
            "çƒå‘˜ C: æŠ•ç¯®å‘½ä¸­ (æœ€åä¸€çƒ)\n",
            "\n",
            "é—®é¢˜: è¿™ 2 åˆ†åº”è¯¥å½’åŠŸäºè°ï¼Ÿ\n",
            "\n",
            "Last-Click é€»è¾‘:\n",
            "  â†’ C è·å¾— 100% åŠŸåŠ³ (å› ä¸ºæ˜¯ä»–æŠ•è¿›çš„)\n",
            "  â†’ A å’Œ B çš„è´¡çŒ®ä¸º 0\n",
            "\n",
            "Shapley Value é€»è¾‘:\n",
            "  â†’ è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„å›¢é˜Ÿç»„åˆ\n",
            "  â†’ è®¡ç®—æ¯ä¸ªçƒå‘˜çš„å¹³å‡è¾¹é™…è´¡çŒ®\n",
            "  \n",
            "  å‡è®¾:\n",
            "  - åªæœ‰ A: èƒ½æŠ¢æ–­ä½†æ— æ³•å¾—åˆ† â†’ 0 åˆ†\n",
            "  - åªæœ‰ B: å¯èƒ½è¿çƒå¤±è¯¯ â†’ 20% å¾—åˆ†æ¦‚ç‡\n",
            "  - åªæœ‰ C: æ— çƒå¯æŠ• â†’ 0 åˆ†\n",
            "  - A + B: ä¼ åˆ‡é…åˆ â†’ 50% å¾—åˆ†\n",
            "  - A + C: ä¼ çƒæŠ•ç¯® â†’ 40% å¾—åˆ†\n",
            "  - B + C: çªç ´æŠ•ç¯® â†’ 60% å¾—åˆ†\n",
            "  - A + B + C: å®Œæ•´é…åˆ â†’ 90% å¾—åˆ†\n",
            "  \n",
            "  Shapley å½’å› :\n",
            "  - A è´¡çŒ®: 30%\n",
            "  - B è´¡çŒ®: 35%\n",
            "  - C è´¡çŒ®: 35%\n",
            "```\n",
            "\n",
            "**ç±»æ¯”åˆ°è¥é”€**:\n",
            "```\n",
            "å±•ç¤ºå¹¿å‘Š = çƒå‘˜ A (å»ºç«‹è®¤çŸ¥)\n",
            "æœç´¢å¹¿å‘Š = çƒå‘˜ B (æ¿€å‘å…´è¶£)\n",
            "é‚®ä»¶è¥é”€ = çƒå‘˜ C (ä¿ƒæˆè½¬åŒ–)\n",
            "\n",
            "Last-click: é‚®ä»¶è·å¾— 100% å½’å›  âŒ\n",
            "Shapley: ä¸‰è€…æŒ‰å®é™…è´¡çŒ®åˆ†é… âœ…\n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "#### 2. ç”¨æ•°æ®è¯´è¯\n",
            "\n",
            "**å±•ç¤º A/B æµ‹è¯•ç»“æœ**:\n",
            "\n",
            "```python\n",
            "å®éªŒ 1: åœæ‰å±•ç¤ºå¹¿å‘Š\n",
            "ç»“æœ: æœç´¢å¹¿å‘Šçš„è½¬åŒ–ç‡ä¸‹é™ 30%\n",
            "è§£é‡Š: å±•ç¤ºå¹¿å‘Šåœ¨å»ºç«‹å“ç‰Œè®¤çŸ¥\n",
            "\n",
            "å®éªŒ 2: åœæ‰æœç´¢å¹¿å‘Š\n",
            "ç»“æœ: æ•´ä½“è½¬åŒ–ä¸‹é™ 50%\n",
            "è§£é‡Š: æœç´¢å¹¿å‘Šåœ¨æ”¶å‰²éœ€æ±‚\n",
            "\n",
            "å®éªŒ 3: åœæ‰é‚®ä»¶è¥é”€\n",
            "ç»“æœ: è½¬åŒ–ä¸‹é™ 20%\n",
            "è§£é‡Š: é‚®ä»¶è¥é”€åœ¨ä¸´é—¨ä¸€è„š\n",
            "\n",
            "Shapley Value å½’å› :\n",
            "- å±•ç¤ºå¹¿å‘Š: 25% (å»ºç«‹è®¤çŸ¥)\n",
            "- æœç´¢å¹¿å‘Š: 50% (éœ€æ±‚æ”¶å‰²)\n",
            "- é‚®ä»¶è¥é”€: 25% (è½¬åŒ–åŠ©æ¨)\n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "#### 3. å¼ºè°ƒä¸šåŠ¡ä»·å€¼\n",
            "\n",
            "**ROI å¯¹æ¯”**:\n",
            "\n",
            "| æŒ‡æ ‡ | Last-Click | Shapley Value |\n",
            "|------|-----------|---------------|\n",
            "| å±•ç¤ºå¹¿å‘Šé¢„ç®— | â†“ 50% | â†‘ 10% |\n",
            "| æœç´¢å¹¿å‘Šé¢„ç®— | â†‘ 30% | â†‘ 20% |\n",
            "| é‚®ä»¶é¢„ç®— | â†‘ 20% | â†‘ 15% |\n",
            "| **æ•´ä½“ ROI** | **2.1** | **2.8** |\n",
            "| **å¢é‡æ”¶å…¥** | **åŸºå‡†** | **+30%** |\n",
            "\n",
            "**å…³é”®ä¿¡æ¯**:\n",
            "- Shapley Value è®©æˆ‘ä»¬è¯†åˆ«å‡ºè¢«ä½ä¼°çš„æ¸ é“\n",
            "- ä¼˜åŒ–é¢„ç®—åˆ†é…ï¼Œæ•´ä½“ ROI æå‡ 30%\n",
            "- é¿å…\"æ€é¸¡å–åµ\"ï¼ˆç æ‰ä¸Šæ¸¸æ¸ é“ï¼‰\n",
            "\n",
            "---\n",
            "\n",
            "#### 4. å¤„ç†å¸¸è§ç–‘é—®\n",
            "\n",
            "**è€æ¿: \"å¬èµ·æ¥å¾ˆå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜æ•´ä¸ªæµç¨‹å—ï¼Ÿ\"**\n",
            "\n",
            "å›ç­”:\n",
            "```\n",
            "ä¸éœ€è¦å¤§æ”¹ï¼š\n",
            "1. æˆ‘ä»¬å·²æœ‰çš„æ•°æ®å°±å¤Ÿç”¨ï¼ˆç”¨æˆ·æ—…ç¨‹æ•°æ®ï¼‰\n",
            "2. è®¡ç®—å¯ä»¥è‡ªåŠ¨åŒ–ï¼ˆä»£ç å®ç°ï¼‰\n",
            "3. æŠ¥è¡¨å±•ç¤ºæ–¹å¼ä¸å˜ï¼ˆä»ç„¶æ˜¯å„æ¸ é“å½’å› æ¯”ä¾‹ï¼‰\n",
            "\n",
            "å”¯ä¸€å˜åŒ–ï¼š\n",
            "- ä» Last-Click åˆ‡æ¢åˆ° Shapley Value\n",
            "- é¢„ç®—åˆ†é…æ›´ç§‘å­¦\n",
            "```\n",
            "\n",
            "**è€æ¿: \"è¿™ä¸ªæ–¹æ³•é è°±å—ï¼Ÿæœ‰å¤§å…¬å¸åœ¨ç”¨å—ï¼Ÿ\"**\n",
            "\n",
            "å›ç­”:\n",
            "```\n",
            "Shapley Value æ˜¯è¯ºè´å°”å¥–è·å¥–ç†è®ºï¼ˆ1962å¹´ï¼‰\n",
            "\n",
            "ä½¿ç”¨æ¡ˆä¾‹:\n",
            "- Google: å†…éƒ¨å½’å› ç³»ç»Ÿ\n",
            "- Facebook: å¹¿å‘Šæ•ˆæœå½’å› \n",
            "- Uber: å¸æœºæ¿€åŠ±åˆ†é…\n",
            "- Airbnb: æˆ¿æºæ¨èæƒé‡\n",
            "\n",
            "å­¦æœ¯æ”¯æŒ:\n",
            "- è¶…è¿‡ 1000+ ç¯‡è®ºæ–‡å¼•ç”¨\n",
            "- ç»æµå­¦ã€è¥é”€å­¦å…¬è®¤æ–¹æ³•\n",
            "```\n",
            "\n",
            "**è€æ¿: \"å¤šä¹…èƒ½çœ‹åˆ°æ•ˆæœï¼Ÿ\"**\n",
            "\n",
            "å›ç­”:\n",
            "```\n",
            "æ—¶é—´çº¿:\n",
            "Week 1: æ•°æ®å‡†å¤‡å’Œæ¨¡å‹è®­ç»ƒ\n",
            "Week 2-3: ä¸ Last-Click å¹¶è¡Œè¿è¡Œï¼ˆå¯¹æ¯”éªŒè¯ï¼‰\n",
            "Week 4: æ ¹æ® Shapley Value è°ƒæ•´é¢„ç®—\n",
            "Week 8: é¦–æ¬¡ ROI è¯„ä¼°\n",
            "\n",
            "é¢„æœŸ:\n",
            "- 1 ä¸ªæœˆ: å®Œæˆåˆ‡æ¢\n",
            "- 2 ä¸ªæœˆ: çœ‹åˆ° ROI æå‡\n",
            "- 3 ä¸ªæœˆ: ç¨³å®šä¼˜åŒ–\n",
            "```"
        ]
    },
    {
        "cell_type": "code",
        "execution_count": None,
        "metadata": {},
        "outputs": [],
        "source": [
            "# å¯è§†åŒ–å¯¹æ¯”ï¼šLast-Click vs Shapley Value\n",
            "import matplotlib.pyplot as plt\n",
            "import numpy as np\n",
            "\n",
            "# æ•°æ®\n",
            "channels = ['å±•ç¤ºå¹¿å‘Š', 'æœç´¢å¹¿å‘Š', 'é‚®ä»¶è¥é”€']\n",
            "last_click = [0, 20, 80]  # Last-click å½’å› æ¯”ä¾‹\n",
            "shapley = [25, 50, 25]     # Shapley Value å½’å› æ¯”ä¾‹\n",
            "\n",
            "# åˆ›å»ºå¯¹æ¯”å›¾\n",
            "fig, axes = plt.subplots(1, 2, figsize=(14, 5))\n",
            "\n",
            "# Last-Click\n",
            "axes[0].bar(channels, last_click, color=['#e74c3c', '#3498db', '#2ecc71'])\n",
            "axes[0].set_title('Last-Click å½’å› ', fontsize=14, fontweight='bold')\n",
            "axes[0].set_ylabel('å½’å› æ¯”ä¾‹ (%)', fontsize=12)\n",
            "axes[0].set_ylim(0, 100)\n",
            "for i, v in enumerate(last_click):\n",
            "    axes[0].text(i, v + 2, f'{v}%', ha='center', fontsize=11)\n",
            "\n",
            "# Shapley Value\n",
            "axes[1].bar(channels, shapley, color=['#e74c3c', '#3498db', '#2ecc71'])\n",
            "axes[1].set_title('Shapley Value å½’å› ', fontsize=14, fontweight='bold')\n",
            "axes[1].set_ylabel('å½’å› æ¯”ä¾‹ (%)', fontsize=12)\n",
            "axes[1].set_ylim(0, 100)\n",
            "for i, v in enumerate(shapley):\n",
            "    axes[1].text(i, v + 2, f'{v}%', ha='center', fontsize=11)\n",
            "\n",
            "plt.tight_layout()\n",
            "plt.show()\n",
            "\n",
            "print(\"\\n=== ç»™è€æ¿çš„æ€»ç»“ ===\")\n",
            "print(\"\\nLast-Click é—®é¢˜:\")\n",
            "print(\"  â€¢ é‚®ä»¶è¥é”€è·å¾— 80% å½’å› \")\n",
            "print(\"  â€¢ å±•ç¤ºå¹¿å‘Šè¢«å®Œå…¨å¿½ç•¥ (0%)\")\n",
            "print(\"  â€¢ å†³ç­–: ç æ‰å±•ç¤ºå¹¿å‘Šé¢„ç®—\")\n",
            "print(\"  â€¢ ç»“æœ: æ•´ä½“è½¬åŒ–ä¸‹é™ 30%ï¼âŒ\")\n",
            "\n",
            "print(\"\\nShapley Value ä¼˜åŠ¿:\")\n",
            "print(\"  â€¢ å…¬å¹³åˆ†é…ï¼šå±•ç¤º 25%, æœç´¢ 50%, é‚®ä»¶ 25%\")\n",
            "print(\"  â€¢ è¯†åˆ«ååŒï¼šå±•ç¤ºå¹¿å‘Šå»ºç«‹è®¤çŸ¥\")\n",
            "print(\"  â€¢ å†³ç­–: å¹³è¡¡é¢„ç®—åˆ†é…\")\n",
            "print(\"  â€¢ ç»“æœ: ROI æå‡ 30% âœ…\")\n",
            "\n",
            "print(\"\\næ¨èè¡ŒåŠ¨:\")\n",
            "print(\"  1. å…ˆå¹¶è¡Œè¿è¡Œ 2 å‘¨ï¼ˆé™ä½é£é™©ï¼‰\")\n",
            "print(\"  2. å¯¹æ¯”ä¸¤ç§æ–¹æ³•çš„é¢„æµ‹å‡†ç¡®æ€§\")\n",
            "print(\"  3. é€æ­¥åˆ‡æ¢åˆ° Shapley Value\")\n",
            "print(\"  4. æ¯æœˆè¯„ä¼° ROI å˜åŒ–\")"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "---\n",
            "\n",
            "## é¢è¯•é¢˜ 4: Marketing Attribution çš„ A/B æµ‹è¯•\n",
            "\n",
            "**é—®é¢˜**: å¦‚ä½•è®¾è®¡ä¸€ä¸ª A/B æµ‹è¯•æ¥éªŒè¯å½’å› æ¨¡å‹çš„å‡†ç¡®æ€§ï¼Ÿ\n",
            "\n",
            "**è€ƒå¯Ÿç‚¹**:\n",
            "- å®éªŒè®¾è®¡èƒ½åŠ›\n",
            "- å› æœæ¨æ–­ç†è§£\n",
            "- ä¸šåŠ¡è½åœ°ç»éªŒ"
        ]
    },
    {
        "cell_type": "markdown",
        "metadata": {},
        "source": [
            "### A/B æµ‹è¯•è®¾è®¡æ–¹æ¡ˆ\n",
            "\n",
            "#### æ–¹æ¡ˆ 1: Geo-based Holdout Test (åœ°åŸŸåˆ†ç»„)\n",
            "\n",
            "**è®¾è®¡**:\n",
            "```python\n",
            "å®éªŒç»„ï¼ˆ50% åœ°åŸŸï¼‰:\n",
            "  - æ ¹æ® Shapley Value å½’å› åˆ†é…é¢„ç®—\n",
            "  - å¢åŠ å±•ç¤ºå¹¿å‘Šé¢„ç®— +20%\n",
            "  - å‡å°‘é‚®ä»¶é¢„ç®— -10%\n",
            "\n",
            "å¯¹ç…§ç»„ï¼ˆ50% åœ°åŸŸï¼‰:\n",
            "  - ä¿æŒåŸæœ‰é¢„ç®—åˆ†é…ï¼ˆLast-Clickï¼‰\n",
            "\n",
            "å®éªŒå‘¨æœŸ: 8 å‘¨\n",
            "æ ·æœ¬é‡: å„ 50 ä¸ªåŸå¸‚\n",
            "```\n",
            "\n",
            "**è¯„ä¼°æŒ‡æ ‡**:\n",
            "```python\n",
            "ä¸»è¦æŒ‡æ ‡:\n",
            "  - æ•´ä½“ ROI (Revenue / Marketing Spend)\n",
            "  - æ–°å®¢è·å–æˆæœ¬ (CAC)\n",
            "  - å®¢æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ (LTV)\n",
            "\n",
            "æ¬¡è¦æŒ‡æ ‡:\n",
            "  - å„æ¸ é“è½¬åŒ–ç‡\n",
            "  - è·¨æ¸ é“ååŒæ•ˆåº”\n",
            "  - ç”¨æˆ·æ—…ç¨‹é•¿åº¦å˜åŒ–\n",
            "```\n",
            "\n",
            "**ç»Ÿè®¡æ£€éªŒ**:\n",
            "```python\n",
            "H0: ROI_shapley = ROI_lastclick\n",
            "H1: ROI_shapley > ROI_lastclick\n",
            "\n",
            "æ£€éªŒæ–¹æ³•: Two-sample t-test\n",
            "æ˜¾è‘—æ€§æ°´å¹³: Î± = 0.05\n",
            "åŠŸæ•ˆ: 1-Î² = 0.8\n",
            "\n",
            "æœ€å°å¯æ£€æµ‹æ•ˆåº”: \n",
            "  MDE = 5% ROI æå‡\n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "#### æ–¹æ¡ˆ 2: Time-based Switchback Test (æ—¶é—´åˆ‡æ¢)\n",
            "\n",
            "**è®¾è®¡**:\n",
            "```python\n",
            "Week 1, 3, 5, 7: Shapley Value å½’å› \n",
            "Week 2, 4, 6, 8: Last-Click å½’å› \n",
            "\n",
            "ä¼˜åŠ¿:\n",
            "  - æ§åˆ¶åœ°åŸŸå·®å¼‚\n",
            "  - æ§åˆ¶æ—¶é—´è¶‹åŠ¿\n",
            "  - æé«˜ç»Ÿè®¡åŠŸæ•ˆ\n",
            "\n",
            "æŒ‘æˆ˜:\n",
            "  - éœ€è¦è€ƒè™‘ Carryover Effectï¼ˆå»¶æ»æ•ˆåº”ï¼‰\n",
            "  - Week 1 çš„å¹¿å‘Šå¯èƒ½åœ¨ Week 2 ä»æœ‰å½±å“\n",
            "```\n",
            "\n",
            "**å¤„ç†å»¶æ»æ•ˆåº”**:\n",
            "```python\n",
            "æ–¹æ³• 1: æ·»åŠ  Washout Period\n",
            "  Week 1: Shapley\n",
            "  Week 2: Washout (ä¸åšå½’å› è°ƒæ•´)\n",
            "  Week 3: Last-Click\n",
            "  Week 4: Washout\n",
            "  ...\n",
            "\n",
            "æ–¹æ³• 2: å»ºæ¨¡å»¶æ»\n",
            "  Y_t = Î²0 + Î²1Â·Treatment_t + Î²2Â·Treatment_{t-1} + Îµ_t\n",
            "  \n",
            "  åˆ†ç¦»å³æ—¶æ•ˆåº”å’Œå»¶æ»æ•ˆåº”\n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "#### æ–¹æ¡ˆ 3: Synthetic Control (åˆæˆå¯¹ç…§)\n",
            "\n",
            "**é€‚ç”¨åœºæ™¯**: åªæœ‰å°‘é‡åœ°åŸŸå¯ä»¥å®éªŒ\n",
            "\n",
            "**è®¾è®¡**:\n",
            "```python\n",
            "å¤„ç†åœ°åŸŸ: åŒ—äº¬ã€ä¸Šæµ·ï¼ˆåˆ‡æ¢åˆ° Shapleyï¼‰\n",
            "\n",
            "åˆæˆå¯¹ç…§: \n",
            "  ç”¨å…¶ä»–åŸå¸‚çš„åŠ æƒç»„åˆæ¨¡æ‹ŸåŒ—äº¬ã€ä¸Šæµ·\n",
            "  æƒé‡é€‰æ‹©: ä½¿å®éªŒå‰çš„ ROI è¶‹åŠ¿å®Œå…¨ä¸€è‡´\n",
            "\n",
            "ä¾‹å¦‚:\n",
            "  åˆæˆåŒ—äº¬ = 0.3Ã—å¹¿å· + 0.4Ã—æ·±åœ³ + 0.3Ã—æ­å·\n",
            "  \n",
            "  é€‰æ‹©æƒé‡ä½¿å¾—:\n",
            "  ROI_åˆæˆåŒ—äº¬(t) â‰ˆ ROI_çœŸå®åŒ—äº¬(t) for all t < T0\n",
            "  \n",
            "å®éªŒå:\n",
            "  å¯¹æ¯” ROI_çœŸå®åŒ—äº¬(t) vs ROI_åˆæˆåŒ—äº¬(t) for t >= T0\n",
            "```\n",
            "\n",
            "**ç»Ÿè®¡æ¨æ–­**:\n",
            "```python\n",
            "# ç½®æ¢æ£€éªŒ (Permutation Test)\n",
            "for each city in control_group:\n",
            "    å‡è®¾è¯¥åŸå¸‚ä¸ºå¤„ç†ç»„\n",
            "    è®¡ç®—\"ä¼ªå¤„ç†æ•ˆåº”\"\n",
            "    \n",
            "p-value = (ä¼ªæ•ˆåº” >= çœŸå®æ•ˆåº”çš„æ¯”ä¾‹)\n",
            "\n",
            "å¦‚æœ p < 0.05ï¼Œæ‹’ç» H0ï¼Œè®¤ä¸º Shapley Value æœ‰æ•ˆ\n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "#### å®é™…æ¡ˆä¾‹: æŸç”µå•†å¹³å° A/B æµ‹è¯•\n",
            "\n",
            "**èƒŒæ™¯**:\n",
            "- 5 ä¸ªæ¸ é“ï¼šå±•ç¤ºã€æœç´¢ã€ç¤¾äº¤ã€é‚®ä»¶ã€è”ç›Ÿ\n",
            "- åŸå½’å› : Last-Click\n",
            "- æ–°å½’å› : Shapley Value\n",
            "\n",
            "**å®éªŒè®¾è®¡**:\n",
            "```python\n",
            "åˆ†ç»„: 100 ä¸ªåŸå¸‚éšæœºåˆ†ä¸º A/B ç»„\n",
            "å‘¨æœŸ: 12 å‘¨\n",
            "é¢„ç®—: æ¯ç»„ 5000 ä¸‡/æœˆ\n",
            "\n",
            "å¯¹ç…§ç»„ A (Last-Click):\n",
            "  å±•ç¤º: 5%\n",
            "  æœç´¢: 30%\n",
            "  ç¤¾äº¤: 10%\n",
            "  é‚®ä»¶: 40%\n",
            "  è”ç›Ÿ: 15%\n",
            "\n",
            "å®éªŒç»„ B (Shapley Value):\n",
            "  å±•ç¤º: 20%  â† å¢åŠ \n",
            "  æœç´¢: 35%  â† å¢åŠ \n",
            "  ç¤¾äº¤: 15%  â† å¢åŠ \n",
            "  é‚®ä»¶: 20%  â† å‡å°‘\n",
            "  è”ç›Ÿ: 10%  â† å‡å°‘\n",
            "```\n",
            "\n",
            "**ç»“æœ**:\n",
            "```python\n",
            "æŒ‡æ ‡                  å¯¹ç…§ç»„ A    å®éªŒç»„ B     æå‡\n",
            "-----------------------------------------------------\n",
            "æ•´ä½“ ROI              2.1         2.7       +28.6%\n",
            "æ–°å®¢ CAC             Â¥120        Â¥95       -20.8%\n",
            "å¤è´­ç‡                15%         18%       +20.0%\n",
            "å¹³å‡è®¢å•ä»·å€¼          Â¥350        Â¥380       +8.6%\n",
            "-----------------------------------------------------\n",
            "\n",
            "ç»Ÿè®¡æ˜¾è‘—æ€§:\n",
            "  t-test: p < 0.001 âœ…\n",
            "  ç½®ä¿¡åŒºé—´: [+18%, +38%] (95% CI)\n",
            "  \n",
            "å†³ç­–: å…¨é‡ä¸Šçº¿ Shapley Value å½’å› \n",
            "```\n",
            "\n",
            "---\n",
            "\n",
            "### å¸¸è§é¢è¯•è¿½é—®\n",
            "\n",
            "**Q: å¦‚ä½•å¤„ç†ç½‘ç»œæ•ˆåº”ï¼ˆç”¨æˆ·äº’ç›¸å½±å“ï¼‰ï¼Ÿ**\n",
            "\n",
            "A: \n",
            "```python\n",
            "é—®é¢˜: å®éªŒç»„ç”¨æˆ·å¯èƒ½å½±å“å¯¹ç…§ç»„ï¼ˆspilloverï¼‰\n",
            "\n",
            "è§£å†³æ–¹æ¡ˆ:\n",
            "1. Cluster Randomization\n",
            "   - ä»¥åŸå¸‚/ç¤¾åŒºä¸ºå•ä½åˆ†ç»„\n",
            "   - å‡å°‘ç»„é—´äº¤äº’\n",
            "\n",
            "2. ä¸¤é˜¶æ®µéšæœºåŒ–\n",
            "   - ç¬¬ä¸€é˜¶æ®µ: éšæœºé€‰æ‹©åŸå¸‚\n",
            "   - ç¬¬äºŒé˜¶æ®µ: åŸå¸‚å†…éšæœºåˆ†é…\n",
            "\n",
            "3. ç½‘ç»œè°ƒæ•´ä¼°è®¡é‡\n",
            "   - ä½¿ç”¨ Regression Discontinuity\n",
            "   - æˆ– Difference-in-Differences\n",
            "```\n",
            "\n",
            "**Q: å¦‚ä½•ç¡®å®šæ ·æœ¬é‡ï¼Ÿ**\n",
            "\n",
            "A:\n",
            "```python\n",
            "åŠŸæ•ˆåˆ†æ (Power Analysis):\n",
            "\n",
            "n = 2 Ã— (Z_Î±/2 + Z_Î²)^2 Ã— Ïƒ^2 / (MDE)^2\n",
            "\n",
            "å‚æ•°:\n",
            "  Î± = 0.05 (æ˜¾è‘—æ€§æ°´å¹³)\n",
            "  Î² = 0.2 (1-åŠŸæ•ˆ)\n",
            "  Ïƒ = ROI æ ‡å‡†å·® (ä»å†å²æ•°æ®ä¼°è®¡)\n",
            "  MDE = 5% (æœ€å°å¯æ£€æµ‹æ•ˆåº”)\n",
            "\n",
            "ä¾‹å¦‚:\n",
            "  å¦‚æœ Ïƒ = 0.3ï¼ŒMDE = 0.05\n",
            "  n â‰ˆ 2 Ã— (1.96 + 0.84)^2 Ã— 0.3^2 / 0.05^2\n",
            "  n â‰ˆ 283 (æ¯ç»„éœ€è¦ 283 ä¸ªå•ä½)\n",
            "```"
        ]
    }
]

# Print summary
if __name__ == \"__main__\":
    print(f\"Created {len(INTERVIEW_CELLS)} interview-oriented cells\")\n    print(\"\\nTopics covered:\")\n    print(\"  1. ä»é›¶å®ç° Shapley Value\")\n    print(\"  2. Last-Click Attribution é—®é¢˜\")\n    print(\"  3. å‘éæŠ€æœ¯è€æ¿è§£é‡Š\")\n    print(\"  4. A/B æµ‹è¯•è®¾è®¡\")\n